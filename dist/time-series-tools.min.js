/*! time-series-tools 26-02-2018 */
function diff(a){return diff_lag(a,1)}function diff_lag(a,b){var c=a.length;if(b<=0)throw new Error("Lag must be greater than zero");if(c<=b)throw new Error("Vector has too few elements");for(var d=[],e=0;e<c-b;e++)d.push(a[e+b]-a[e]);return d}var tstModule=function(a){"use strict";function b(a,c){if(!(this instanceof b))return new b(a,c);if(null===a)throw new Error("Values may not be null");if(this.dataValues=a,null===c){var d,e=[];for(d=0;d<a.length;d++)e.push(d);this.timeValues=e}else{if(a.length!==c.length)throw new Error("Both columns must have same number of elements");this.timeValues=c}}return b.prototype.toPlot=function(){var a,b=[];for(a=0;a<this.dataValues.length;a++){var c=[];c.push(this.timeValues[a]),c.push(this.dataValues[a]),b.push(c)}return b},b.prototype.log=function(){for(var a=this.dataValues[0],c=0;c<this.dataValues.length;c++)this.dataValues[c]<a&&(a=this.dataValues[c]);var d=[];a<0?a*=-1:a=0;for(var e=0;e<this.dataValues.length;e++)d.push(Math.log(this.dataValues[e]+a+1));return new b(d,this.timeValues)},b.prototype.minus=function(a){for(var c=[],d=0;d<a.dataValues.length;d++)c.push(this.dataValues[d]-a.dataValues[d]);return new b(c,a.timeValues)},a.timeseries={Timeseries:b},a}(tstModule||{});"undefined"!=typeof module&&module.exports&&(module.exports={Timeseries:tstModule.timeseries.Timeseries});var tstModule=function(a){"use strict";function b(a){if(0===a.length)throw new Error("List length is zero")}function c(a,c){b(a);for(var d=a.length,e=2*c+1,f=[],g=0;g<d-e+1;g++){for(var h=0,i=g;i<g+e;i++)h+=a[i];f.push(h/e)}return f}function d(a){return c(a,3)}function e(a){for(var b=d(a),c=[],e=0;e<b.length;e++)c.push(a[e]-b[e]);return c}return a.filtering={simple_moving_average:c,low_pass:d,high_pass:e},a}(tstModule||{});"undefined"!=typeof module&&module.exports&&(module.exports={simple_moving_average:tstModule.filtering.simple_moving_average,low_pass:tstModule.filtering.low_pass,high_pass:tstModule.filtering.high_pass});var tstModule=function(a){"use strict";function b(a){if(0===a.length)throw new Error("List length is zero")}function c(a,b){if(a.length!==b.length)throw new Error("Both columns must have same number of elements")}function d(a){b(a);for(var c=0,d=0;d<a.length;d++)c+=a[d];return c/a.length}function e(a){b(a);for(var c=d(a),e=0,f=0;f<a.length;f++)e+=(a[f]-c)*(a[f]-c);var g=e/a.length;if(g<0)throw new Error("Variance is never negative");return g}function f(a,e){b(a),b(e),c(a,e);for(var f=d(a),g=d(e),h=0,i=0;i<a.length;i++)h+=(a[i]-f)*(e[i]-g);return h/(a.length-1)}function g(a,b){var c=f(a,b)/f(a,a);return[d(b)-c*d(a),c]}function h(a){return Math.sqrt(e(a))}function i(a){b(a),a.sort(function(a,b){return a-b});var c=a.length;return c%2!=0?a[Math.floor(c/2)]:(a[c/2]+a[c/2+1])/2}function j(a){return 3*(d(a)-i(a))/h(a)}function k(a){for(var b=a.length,c=0,d=0;d<b;d++)c+=a[d];return c}function l(a){return b(a),a.sort(function(a,b){return a-b}),a[a.length-1]}function m(a){return b(a),a.sort(function(a,b){return a-b}),a[0]}return a.statistics={max:l,min:m,sum:k,avg:d,median:i,skewness:j,variance:e,covariance:f,least_squares_fit:g,standard_deviation:h},a}(tstModule||{});"undefined"!=typeof module&&module.exports&&(module.exports={max:tstModule.statistics.max,min:tstModule.statistics.min,sum:tstModule.statistics.sum,mean:tstModule.statistics.avg,avg:tstModule.statistics.avg,median:tstModule.statistics.median,skew:tstModule.statistics.skewness,skewness:tstModule.statistics.skewness,variance:tstModule.statistics.variance,cov:tstModule.statistics.covariance,covariance:tstModule.statistics.covariance,lsfit:tstModule.statistics.least_squares_fit,least_squares_fit:tstModule.statistics.least_squares_fit,sd:tstModule.statistics.standard_deviation,standard_deviation:tstModule.statistics.standard_deviation}),"undefined"!=typeof module&&module.exports&&(module.exports={diff:diff});